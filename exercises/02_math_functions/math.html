<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Addition via WebAssembly</title>
  </head>
  <body>
    <h1>Math Calculator via WebAssembly</h1>
    <div>
      <label for="num1">Number 1: <input type="number" id="num1" value="12" /></label>
      <label for="operation">Operation: 
        <select id="operation">
          <option value="add">+ Add</option>
          <option value="subtract">- Subtract</option>
          <option value="multiply">* Multiply</option>
          <option value="divide">/ Divide</option>
        </select>
      </label>
      <label for="num2">Number 2: <input type="number" id="num2" value="8" /></label>
      <button id="run">Calculate</button>
    </div>
    <p id="result"></p>
    <script>
      var Module = {
        onRuntimeInitialized: function() {
          document.getElementById("run").onclick = () => {
            const num1 = parseInt(document.getElementById("num1").value);
            const num2 = parseInt(document.getElementById("num2").value);
            const operation = document.getElementById("operation").value;
            
            let result;
            let symbol;
            
            switch(operation) {
              case 'add':
                result = Module._add(num1, num2);
                symbol = '+';
                break;
              case 'subtract':
                result = Module._subtract(num1, num2);
                symbol = '-';
                break;
              case 'multiply':
                result = Module._multiply(num1, num2);
                symbol = '*';
                break;
              case 'divide':
                result = Module._divide(num1, num2);
                symbol = '/';
                break;
            }
            
            document.getElementById("result").textContent = `${num1} ${symbol} ${num2} = ${result}`;
            console.log("Result from C:", result);
          };
        }
      };
    </script>
    <script src="math.js"></script>
  </body>
</html>
